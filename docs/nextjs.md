## Next.js

**Особенности построения приложения при работе с Next.js**

1. Компоненты в Next.js могут быть нескольких видов: клиентский и серверный. Существует правило, по которому серверный компонент не может быть импортирован в клиентский. Поэтому при реэкспорте компонентов в `index.ts` файле может выбрасываться ошибка. Для решения данной проблемы организовано разделение `index.ts` файла на две части:

   • `c.ts` — зарезервированное имя файла в проекте для реализации Public API (аналог barrel-файла) для клиентских компонентов (с использованием директивы `use client`)

   • `s.ts` — зарезервированное имя файла в проекте для реализации Public API (аналог barrel-файла) для серверных компонентов и компонентов, помеченных `server-only` импортом

   <br/>

   \*Серверные компоненты, не содержащие какой-либо серверной логики (зачастую просто верстка, например `Skeleton`), могут быть экспортированы в клиентские компоненты. На них распространится влияние директивы `use client`.

   \*\*Если модуль подразумевает только клиентскую логику, то разделение необязательно и можно воспользоваться классическим `index.ts` файлом.

2. [Кэширование статики](../docs/nginx.md)
