## Testing the app

### Unit

Для организации Unit тестирования используется Jest. Тесты располагаются рядом с местом тестирования в виде файла, либо же внутри директории `__tests__`. Для тестирования функциональности UI компонентов Jest используется в связке с React Testing Library. Все файлы для Unit тестирования должны иметь dot-notation постфикс `.test`. Большее количество Unit тестов сосредоточено в `shared` слое. Также, по необходимости, могут быть в любом сегменте (Например, в model для тестирования селектора).

### Integration

Для организации интеграционного тестирования используется Jest и React Testing Library. Тесты располагаются рядом с местом тестирования в виде файла, либо же внутри директории `__tests__`. Все файлы для Unit тестирования должны иметь dot-notation постфикс `.itest`.

### Screenshot

...

### E2E

Для организации сквозного тестирования (e2e) используется фреймворк Cypress. Е2Е тесты находятся отдельно (`config/cypress`) от других типов тестов, поскольку они зависят не только от frontend приложения, но и от API. На то и тестирование называется "сквозным". Для большей гибкости для настройки Cypress используются некоторые функции frontend приложения (например получение пути конкретного роута).

- Ключевые пользовательские сценарии разбиты по папкам и расположены в `cypress/e2e` поддиректории;
- Каждый сценарий декомпозирован на действия (их совершает пользователь в рамках сценария);
- Действия в свою очередь делятся на 2 контекста: `ui` и `api`. В первом контексте проводятся тесты на стабах, с использованием фикстур по необходимости. Во втором контексте уже делаются запросы к реальному API;
- `cypres/fixtures` - статические данные, которые используются тестами (чаще всего для моков сетевых запросов);
- `cypress/helpers` - вспомогательные функции для создания команд;
- `cypress/pageObjects` - реализация POM (Page Object Model) — это паттерн для абстрагирования работы с UI через инкапсуляцию поведения в объектах. Внутри директории находятся классы страниц приложений, затрагиваемых в тестируемых сценариях;
- `cypress/support/commands` - пользовательские команды (описание действия и проверок в тестах). Подключение команд к фреймворку осуществляется внутри `cypress/support/commands.ts` файла.

### Running tests

```bash
# run all unit tests once
$ bun test:unit

# run unit tests in watch mode
$ bun test:unit:watch

# run all integration tests once
$ bun test:int

# run unit integration in watch mode
$ bun test:int:watch

# run e2e tests (Open Cypress in interactive mode)
$ bun test:e2e
```
