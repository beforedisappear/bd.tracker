## FSD within BD.tracker

### Memo

В данном проекте FSD используется на "полную катушку" с целью показать, как должна выглядеть эталонная и мастабируемая структура проекта. Подразумевается, что все имеющиеся блоки кода можно будет переиспользовать, также везде добавить новую функциональность. В реальном (не pet) проекте многие моменты можно упростить:

1. Не выделять такие слайсы, которые вряд ли будут переиспользованы. Заместо этого разместить их локально, по месту применения
2. Не добавлять лишние сегменты, файлы для прелоадера, index.ts для реэкспорта

В остальных моментах файловая структура демонстрирует реализацию, близкую к идеальной.

### Common rules (with examples)

• `/app` – Next.js App Router директория

• `/pages` – Next.js Pages Router директория (создана, чтобы Next.js не распознавал src/pages как pages директорию)

• `src/app` & `src/pages` – независимые от Next.js директории (FSD слои) для уменьшения связности с фреймворком

• `src/pages/MainPage` – помимо сегментов и public API файла содержит пример реализации модуля слайса (полноценный FSD слайс, который позволяет организовать <i>непереиспользуемый/используемый только в рамках текущей страницы</i> код). Такой подход может быть применим и на слоях ниже. Это позволяет: не раздувать количество слайсов в слоях, не раздувать объем содержимого ui & model сегментов основного слайса, четко разделять код по его ответственности (Текущая реализация больше для демонстрации)

• `src/features/Team` – группировка фич по сущности. Позволяет не раздувать количество слайсов внутри слоя. Особенно полезно для фич, выполянящих CRUD-операции

### Layers

• `app` – корневой слой, содержащий "точку входа" в приложение, провайдеры, лейауты и прочие глобальные составляющие, оказывающие влияние на все приложение

• `pages` – композиционный слой для сборки полноценных страниц (могут содержать глобальную логику, специфичную для данной страницы (StoreProvider))

• `widgets` – самостоятельные блоки кода, служающие для соединения сущностей, виджетов, фич и UI-компонентов в единое целое (при выделении виджета можно отталкиваться от того, нужен ли переиспользуемый блок, иначе - можно поместить в pages)

• `features` – взаимодействия с пользователем, действия, которые несут бизнес-ценность для пользователя. Фича может быть представлен в различном виде. Например, мобильная и десктопная версия компонента компонента, или же список команд в DropDown инпуте и в качестве обычного блока.

• `entites` – основные бизнес-сущности проекта (слой для разделения кода на бизнес-домены). В основном содержит бизнес-логику: работу с данными, API. Также сущность может содержать небольшие UI-компоненты, тесно связанные с сущностью или провайдеры для работы с данными на вышележащих слоях.

• `shared` – переиспользуемый код, не имеющий отношения к специфике приложения (по сути сюда можно поместить любой код и он будет доступен в любом месте приложения, но этого следует избегать во избежании искуственного увеличения объема кода в слою)

### Designations

• `assets` – статические файлы (медиа, скрипты).

• `api` – код для написания сетевой логики (ей настройка), т.е. клиенты для создания функций, выполяющих запросы к API и самих таких функций.

• `config` – конфигурационные файлы (содержит функции и объекты, с помощью которых можно управлять конфигурацией приложения, его окружением)

• `constants` – любые константные значения, необходимые во всем приложении.

• `lib` – код библиотек (своих, самописаных). Не стоит путать его с кодом, написанным для библиотек. Здесь также можно разместить код для расширения возможностей библиотеки. Таким образом, здесь можно размещать код, достойный вынесенения в отдельную библиотеку.

• `model` – модель того, как изменяются данные (код связанный с работой с состоянием приложения, мапперы, схемы валидации и прочее).

• `ui` – простейшие UI-компоненты и их вспомогательные функции, а также то, что связано с отображением.

• `store` – сегмент для создания глобальных хранилищ.
